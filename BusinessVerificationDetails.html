<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bank Details</title>
    <link rel="stylesheet" href="./assets/css/bankdetails.css"/>
    <!-- Favicon -->
    <link rel="icon" href="assets/img/brand/favicon.png" type="image/png">
    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
    <!-- Icons -->
    <link rel="stylesheet" href="assets/vendor/nucleo/css/nucleo.css" type="text/css">
    <link rel="stylesheet" href="assets/vendor/@fortawesome/fontawesome-free/css/all.min.css" type="text/css">
    <!-- Argon CSS -->
    <link rel="stylesheet" href="assets/css/argon.css?v=1.2.0" type="text/css">


</head>
<body>

<div class="container d-flex justify-content-center mt-5" style="align-content: center;
    flex-wrap: wrap;
    flex-direction: column;">
    <div class="card" id="account_details">

    </div>

    <div class="text-center">
        <button type="button" id="admin_login_button" class="btn btn-primary my-4">Go Back</button>
    </div>

</div>


<!-- Argon Scripts -->
<!-- Core -->
<script src="assets/vendor/jquery/dist/jquery.min.js"></script>
<script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/js-cookie/js.cookie.js"></script>
<script src="assets/vendor/jquery.scrollbar/jquery.scrollbar.min.js"></script>
<script src="assets/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js"></script>
<script src="assets/js/loader.js"/>
<!-- Argon JS -->
<script src="assets/js/argon.js?v=1.2.0"></script>


<script>

    let params = new URLSearchParams(location.search);
    mUserId = params.get('userId')
    loadPage()



    function loadPage(){
        Loader.open()

        const json = {
            userId:mUserId
        }

        const jsonString = JSON.stringify(json);

        const transportUrl =   "https://gentle-mountain-10412.herokuapp.com/public/api/verification/business/details";
        $.ajax({
            url:transportUrl,
            type:'POST',
            data:jsonString,
            success: function(result){
                Loader.close()


                var businessName =   result["data"][0].business_name
                var RegistrationNumber =   result["data"][0].reg_number
                var businessAddress =   result["data"][0].business_address
                var mPhone =   result["data"][0].phone
                var mAddress =   result["data"][0].address
                var validId =   result["data"][0].valid_id

                var businessNameStr = "<div class=\"middle-container d-flex justify-content-between align-items-center mt-3 p-2\">\n" +
                    "            <div class=\"d-flex flex-column mr-2\"> <span class=\"current-balance\">Business Name</span> <span class=\"amount\">"+businessName+"</span> </div>\n" +
                    "        </div>"

                var registrationNumberStr = "<div class=\"middle-container d-flex justify-content-between align-items-center mt-3 p-2\">\n" +
                    "            <div class=\"d-flex flex-column mr-2\"> <span class=\"current-balance\">Registration Number</span> <span class=\"amount\">"+RegistrationNumber+"</span> </div>\n" +
                    "        </div>"

                var addressStr = "<div class=\"middle-container d-flex justify-content-between align-items-center mt-3 p-2\">\n" +
                    "            <div class=\"d-flex flex-column mr-2\"> <span class=\"current-balance\">Address</span> <span class=\"amount\">"+mAddress+"</span> </div>\n" +
                    "        </div>"

                var businessAddressStr = "<div class=\"middle-container d-flex justify-content-between align-items-center mt-3 p-2\">\n" +
                    "            <div class=\"d-flex flex-column mr-2\"> <span class=\"current-balance\">Business Address</span> <span class=\"amount\">"+businessAddress+"</span> </div>\n" +
                    "        </div>"

                var phoneNumberStr = "<div class=\"middle-container d-flex justify-content-between align-items-center mt-3 p-2\">\n" +
                    "            <div class=\"d-flex flex-column mr-2\"> <span class=\"current-balance\">Phone Number</span> <span class=\"amount\">"+mPhone+"</span> </div>\n" +
                    "        </div>"

                var cacStr = "<div class=\"square>\n" +
                    "            <div class=\"d-flex flex-column mr-2\"> <span class=\"current-balance\">Valid ID</span> <span class=\"amount\"><img style='width: 100%; height: 100%' src="+validId+"></span></div>\n" +
                    "        </div>"


                $("#account_details").append(businessNameStr)
                $("#account_details").append(registrationNumberStr)
                $("#account_details").append(addressStr)
                $("#account_details").append(businessAddressStr)
                $("#account_details").append(phoneNumberStr)
                $("#account_details").append(cacStr)



            },
            error: function(error){
                Loader.close()
                alert(error.message)
            }
        })

    }

</script>


</body>

</html>